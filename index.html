<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ§¸ è§’è½é›œè²¨èˆ– POS æ•¸æ“šæ ¡æ­£ç‰ˆ</title>
    <style>
        :root { --main-brown: #b0a496; --bg-cream: #fcf8f5; --accent-brown: #8c7b6c; --price-red: #d9534f; --profit-green: #6b8e23; }
        body { font-family: sans-serif; background: var(--bg-cream); margin: 0; display: flex; flex-direction: column; height: 100vh; color: #5d5246; overflow: hidden; }
        header { background: var(--main-brown); color: white; padding: 12px; text-align: center; font-size: 1.3em; font-weight: bold; flex-shrink: 0; }
        .nav-bar { background: #e8e0d9; padding: 10px; display: flex; gap: 10px; overflow-x: auto; border-bottom: 2px solid #d1c7bc; flex-shrink: 0; }
        .nav-btn { background: white; border: 1px solid #d1c7bc; padding: 6px 15px; border-radius: 20px; white-space: nowrap; cursor: pointer; font-size: 0.85em; }
        .main-content { display: flex; flex: 1; overflow: hidden; padding: 10px; gap: 10px; }
        .item-area { flex: 2; overflow-y: auto; background: white; border-radius: 15px; padding: 15px; border: 2px solid #e8e0d9; }
        .cat-title { background: #fdf5f0; padding: 6px 15px; border-radius: 20px; margin: 15px 0 8px; font-weight: bold; border-left: 6px solid var(--main-brown); font-size: 0.9em; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 8px; }
        .p-btn { background: white; border: 1px solid #f0e6dd; border-radius: 12px; padding: 8px 5px; text-align: center; cursor: pointer; box-shadow: 2px 2px 0 #e8e0d9; min-height: 70px; display: flex; flex-direction: column; justify-content: center; }
        .p-btn.sold-out { opacity: 0.4; background: #eee; cursor: not-allowed; border-color: #d9534f; }
        .p-btn.discontinued { background: #f0f0f0; border: 1px dashed #999; color: #bbb; cursor: not-allowed; }
        .p-name { font-size: 0.7em; font-weight: bold; margin-bottom: 3px; line-height: 1.2; height: 2.4em; overflow: hidden; }
        .p-price { color: #c2966d; font-size: 0.9em; font-weight: bold; }
        .p-stock { font-size: 0.65em; color: #999; }
        .checkout-area { flex: 1; display: flex; flex-direction: column; gap: 10px; min-width: 300px; }
        .card { background: white; border-radius: 15px; padding: 12px; border: 2px solid #e8e0d9; }
        #cart-list { max-height: 200px; overflow-y: auto; border-bottom: 2px dashed #e8e0d9; }
        .cart-item { display: flex; justify-content: space-between; padding: 5px; font-size: 0.8em; border-bottom: 1px solid #eee; }
        .total-display { font-size: 2em; font-weight: bold; color: var(--price-red); text-align: right; }
        .pay-btn { flex: 1; padding: 8px; border-radius: 8px; border: 1px solid #ccc; background: white; cursor: pointer; }
        .pay-btn.active { background: var(--accent-brown); color: white; }
    </style>
</head>
<body>

<header>ğŸ§¸ è§’è½é›œè²¨èˆ– POS (æ•¸æ“šç²¾æº–æ ¡å°ç‰ˆ)</header>
<div class="nav-bar" id="navbar"></div>

<div class="main-content">
    <div class="item-area" id="item-area"></div>
    <div class="checkout-area">
        <div class="card">
            <strong>ğŸ›’ ç•¶å‰çµå¸³</strong>
            <div id="cart-list"></div>
            <div style="text-align:right; margin-top:10px;">
                <div class="total-display">$<span id="final-total">0</span></div>
            </div>
            <div style="display:flex; gap:5px; margin:10px 0;">
                <button class="pay-btn active" id="btn-cash" onclick="setPay('ç¾é‡‘')">ğŸ’µ ç¾é‡‘</button>
                <button class="pay-btn" id="btn-elec" onclick="setPay('é›»æ”¯')">ğŸ“± é›»æ”¯</button>
            </div>
            <button onclick="submitOrder()" style="width:100%; padding:15px; background:var(--profit-green); color:white; border:none; border-radius:10px; font-weight:bold; font-size:1.1em;">ç¢ºèªçµå¸³</button>
        </div>
        <div class="card" style="flex:1; overflow-y:auto; font-size: 0.8em;" id="order-log">
            <strong>ğŸ“‹ æœ€è¿‘ç´€éŒ„</strong>
        </div>
    </div>
</div>

<script>
    const inv = [
        { cat: "D é«®é£¾é¤¨", items: [
            {id:"D01", n:"ç£¨ç ‚æ¨¹è„‚ç„¡ç—•å¤¾-å°(é»‘)", c:20, p:49, s:2}, {id:"D02", n:"ç£¨ç ‚æ¨¹è„‚ç„¡ç—•å¤¾-å°(ç™½)", c:20, p:49, s:2}, {id:"D03", n:"æ³¢ç´‹å¥¶ç³–é¯Šé­šå¤¾", c:30, p:69, s:1}, {id:"D04", n:"èŠ±é‚Šå°é«®åœˆ(é»‘)", c:10, p:29, s:3}, {id:"D05", n:"å¸ƒé¢è±¹ç´‹ç„¡ç—•å¤¾", c:30, p:69, s:0, dis:true}, {id:"D06", n:"è—è‰²æ ¼å­æ«»èŠ±åœˆ", c:35, p:79, s:1}, {id:"D07", n:"è—è‰²æ«»èŠ±æ¢ç´‹å¤§è…¸åœˆ", c:30, p:69, s:1}, {id:"D08", n:"æ¯›æ¯›é¯Šé­šå¤¾(æ·ºå’–)", c:25, p:69, s:1}, {id:"D09", n:"æ¯›æ¯›é¯Šé­šå¤¾(æ·±æ£•)", c:25, p:69, s:1}, {id:"D10", n:"æ„›å¿ƒé‘½ç„¡ç—•å¤¾", c:45, p:69, s:1}, {id:"D11", n:"çµ¨é¢æ„›å¿ƒæ°´æ»´(ç™½)", c:33, p:69, s:1}, {id:"D12", n:"çµ¨é¢æ„›å¿ƒæ°´æ»´(è±¹ç´‹)", c:33, p:69, s:0, dis:true}, {id:"D13", n:"è´è¶çµæ ¼å­å°å¤¾", c:22, p:69, s:3}, {id:"D14", n:"å¸ƒé¢è±¹ç´‹èŠ±è‹åœˆ", c:36, p:79, s:0, dis:true}, {id:"D15", n:"ç´…é‚Šç°é«®åœˆ", c:35, p:79, s:1}, {id:"D16", n:"è—æ¢ç´‹å¥¶æ²¹èŠ±é‚Šåœˆ", c:30, p:79, s:1}, {id:"D17", n:"è±ç´‹å’–è‰²ç„¡ç—•å¤¾", c:18, p:49, s:1}, {id:"D18", n:"ç™½è‰²æ°´æ³¢ç´‹ç„¡ç—•å¤¾", c:18, p:49, s:0}, {id:"D19", n:"æ©¢åœ“è´è¶çµ(éŠ€)", c:28, p:69, s:1}, {id:"D20", n:"æ©¢åœ“è´è¶çµ(ç™½)", c:28, p:69, s:0, dis:true}, {id:"D21", n:"å¤§è™Ÿè±¹ç´‹é¯Šé­šå¤¾(å’–)", c:25, p:69, s:2}, {id:"D22", n:"é†‹é…¸é‡‘æ¨™ç„¡ç—•å¤¾(é»‘)", c:35, p:79, s:1}, {id:"D23", n:"é†‹é…¸é‡‘æ¨™ç„¡ç—•å¤¾(ç™½)", c:35, p:79, s:1}, {id:"D24", n:"çç è´è¶çµç„¡ç—•å¤¾(éŠ€)", c:30, p:79, s:2}, {id:"D25", n:"éŸ“ç³»é»‘é‚Šæ–œç´‹èŠ±é‚Šåœˆ", c:35, p:79, s:1}, {id:"D26", n:"æ ¼ç´‹æ‰‡å½¢é¯Šé­šå¤¾", c:35, p:79, s:2}, {id:"D27", n:"é»‘é‚Šæ ¼ç´‹æ”¶è…°åœˆ", c:25, p:69, s:1}, {id:"D28", n:"è´è¶çµå’–å•¡æ ¼ä¸‰ç¯€åœˆ", c:28, p:79, s:1}, {id:"D29", n:"è´è¶çµæ˜¥è‰²è•¾çµ²å¤§è…¸åœˆ", c:25, p:79, s:0, dis:true}, {id:"D30", n:"è´è¶çµæ˜¥è‰²æ°´æ»´bbå¤¾", c:28, p:69, s:0, dis:true}, {id:"D31", n:"å½ˆåŠ›é«®åœˆç½è£(å¥¶å’–)", c:10, p:49, s:2}, {id:"D32", n:"å½ˆåŠ›é«®åœˆç½è£(é»‘è‰²)", c:10, p:49, s:2}, {id:"D33", n:"æ°´æ»´BBå¤¾-10å…¥", c:5, p:29, s:8}, {id:"D34", n:"å¤§è™Ÿè±¹ç´‹é¯Šé­šå¤¾(ç°)", c:25, p:69, s:2}, {id:"D35", n:"çç æ«»æ¡ƒç„¡ç—•å¤¾", c:30, p:79, s:3}, {id:"D36", n:"æ ¼ç´‹æ«»æ¡ƒç„¡ç—•å¤¾", c:25, p:69, s:1}, {id:"D37", n:"ç´ å’–+è±¹ç´‹(æ©¢åœ“)", c:25, p:59, s:0}, {id:"D38", n:"ç´ å’–+è±¹ç´‹(æ°´æ»´)", c:25, p:59, s:1}, {id:"D39", n:"ç´ å’–+è±¹ç´‹(æ„›å¿ƒ)", c:25, p:59, s:1}
        ]},
        { cat: "E å¨ƒå¨ƒæ›ä»¶", items: [
            {id:"E01", n:"ç•«å®¶è¥¿é«˜åœ°(å’–)", c:60, p:99, s:1}, {id:"E02", n:"ç•«å®¶è¥¿é«˜åœ°(è—)", c:60, p:99, s:0}, {id:"E03", n:"ç•«å®¶è¥¿é«˜åœ°(ç´…)", c:60, p:99, s:0}, {id:"E04", n:"ç•«å®¶è¥¿é«˜åœ°(ç²‰)", c:60, p:99, s:0}, {id:"E05", n:"ç™½é›ªå…¬ä¸»è£è¥¿é«˜åœ°", c:75, p:129, s:0}, {id:"E06", n:"å°é¦™é¢¨è£æ‰®è¥¿é«˜åœ°", c:75, p:129, s:0}, {id:"E07", n:"èƒ¡è˜¿è””è£æ‰®è¥¿é«˜åœ°", c:73, p:129, s:0}, {id:"E08", n:"é•·æ¯›å°æ€ªç¸(ç²‰)", c:90, p:199, s:1}, {id:"E09", n:"é•·æ¯›å°æ€ªç¸(ç´«)", c:90, p:199, s:1}, {id:"E10", n:"éº¥ç•¶è²“å”å”æ›ä»¶", c:12, p:39, s:3}, {id:"E11", n:"éº¥ç•¶è²“æ›ä»¶", c:12, p:39, s:3}, {id:"E12", n:"åœ“é»å°ç‹—æ›ä»¶", c:15, p:49, s:3}, {id:"E13", n:"é¬±é‡‘é¦™æ›ä»¶(é»ƒ)", c:12, p:39, s:3}, {id:"E14", n:"é¬±é‡‘é¦™æ›ä»¶(ç´«)", c:12, p:39, s:3}, {id:"E15", n:"é¬±é‡‘é¦™æ›ä»¶(ç²‰)", c:12, p:39, s:3}, {id:"E16", n:"ææ€ªé†œèŒèŠ±æœµ", c:13, p:49, s:5}, {id:"E17", n:"è£æ‰®æ€•æ´½ç‹—", c:38, p:79, s:1}, {id:"E18", n:"è–‘é¤…äºº", c:15, p:39, s:0, dis:true}, {id:"E19", n:"è–èª•æ¨¹", c:15, p:39, s:2}, {id:"E20", n:"åƒé‡Œçœ¼å°å¼·", c:10, p:39, s:3}, {id:"E21", n:"å¢¨é¡å°å¼·", c:10, p:39, s:2}, {id:"E22", n:"æŠ½æ‹‰å…”å­(ç´«)", c:60, p:129, s:1}, {id:"E23", n:"æŠ½æ‹‰å…”å­(é»ƒ)", c:60, p:129, s:2}, {id:"E24", n:"ä¸€æ¢ç‹—", c:42, p:99, s:5}
        ]},
        { cat: "F è¥ªå­åœå·¾", items: [
            {id:"F01", n:"æ„›å¿ƒå…”å­ä¸­ç­’è¥ª", c:20, p:59, s:2}, {id:"F02", n:"ç´…å¸½å°ç‹—ä¸­ç­’è¥ª", c:18, p:59, s:1}, {id:"F03", n:"ç«‹é«”è²“å’ªè›‹è›‹è¥ª", c:10, p:49, s:3}, {id:"F13", n:"ç¾Šæ¯›åˆºç¹¡é•·ç­’(å¸½ç‹—)", c:25, p:69, s:4}, {id:"F19", n:"è™æ›¸æ¬£é»‘ç±³åœå·¾", c:70, p:199, s:2}, {id:"F20", n:"å››è‰²å’–å•¡æ ¼åœå·¾", c:75, p:199, s:2}, {id:"F21", n:"ä¸€é¡†ç´…è˜‹æœåœå·¾", c:65, p:199, s:1}, {id:"F22", n:"ä»¿ç¾Šæ¯›å’–æ ¼åœå·¾", c:85, p:239, s:2}, {id:"F23", n:"é˜²ç¾Šæ¯›è±¹ç´‹åœå·¾", c:80, p:239, s:2}
        ]},
        { cat: "G é¤å…·ç³»åˆ—", items: [
            {id:"G01", n:"316å¸ç®¡æ¯600ml", c:130, p:239, s:3}, {id:"G04", n:"çç æ¹¯åŒ™å‰å­", c:55, p:99, s:5}, {id:"G06", n:"å¡çš®å·´æ‹‰ç­·(å¤ªé™½)", c:25, p:59, s:5}, {id:"G11", n:"5.5å‹æ¨¹å±‹ç¢—", c:85, p:189, s:0, dis:true}, {id:"G12", n:"8å‹è–¯æ¢ç›¤", c:40, p:99, s:2}, {id:"G31", n:"å°ç‹—é†¬æ–™ç¢Ÿ(æ£•)", c:36, p:79, s:2}, {id:"G32", n:"å°ç‹—é†¬æ–™ç¢Ÿ(ç°)", c:36, p:79, s:2}, {id:"G35", n:"æ¢ç´‹ç»å¸æ¯(æ£•)", c:43, p:99, s:2}, {id:"G36", n:"æ¢ç´‹ç»å¸æ¯(ç¶ )", c:43, p:99, s:1}
        ]},
        { cat: "H ç´…åŒ…ç³»åˆ—", items: [
            {id:"H01", n:"é¦¬å¹´å¤§å‰5å…¥", c:6, p:39, s:5}, {id:"H13", n:"å¤šå·´èƒºæ°´æœ6å…¥", c:8, p:49, s:3}, {id:"H19", n:"è Ÿç­†å°æ–°6å…¥", c:22, p:59, s:2}, {id:"H20", n:"ä¸‰éº—é·—ç³»åˆ—6å…¥", c:22, p:59, s:2}
        ]}
    ];

    let cart = [];
    let currentPay = 'ç¾é‡‘';

    function init() {
        const area = document.getElementById('item-area'), nav = document.getElementById('navbar');
        inv.forEach((cat, idx) => {
            const cid = 'c'+idx;
            nav.innerHTML += `<div class="nav-btn" onclick="document.getElementById('${cid}').scrollIntoView()">${cat.cat}</div>`;
            let grid = `<div class="cat-title" id="${cid}">${cat.cat}</div><div class="product-grid">`;
            cat.items.forEach(it => {
                const state = it.dis ? 'discontinued' : (it.s <= 0 ? 'sold-out' : '');
                grid += `<div class="p-btn ${state}" onclick="addCart('${it.id}','${it.n}',${it.p},${it.s},${it.dis})">
                    <div class="p-name">${it.id} ${it.n}</div>
                    <div class="p-price">$${it.p}</div>
                    <div class="p-stock">${it.dis?'åœå”®':(it.s<=0?'å®Œå”®':'å­˜:'+it.s)}</div>
                </div>`;
            });
            area.innerHTML += grid + '</div>';
        });
    }

    function addCart(id, n, p, s, dis) {
        if(dis || s <= 0) return;
        cart.push({id, n, p});
        renderCart();
    }

    function renderCart() {
        document.getElementById('cart-list').innerHTML = cart.map((it, i) => `
            <div class="cart-item"><span>${it.id} ${it.n}</span><b>$${it.p}</b></div>
        `).join('');
        document.getElementById('final-total').innerText = cart.reduce((a,b)=>a+b.p, 0);
    }

    function setPay(m) {
        currentPay = m;
        document.getElementById('btn-cash').className = m==='ç¾é‡‘'?'pay-btn active':'pay-btn';
        document.getElementById('btn-elec').className = m==='é›»æ”¯'?'pay-btn active':'pay-btn';
    }

    function submitOrder() {
        if(!cart.length) return;
        const log = document.getElementById('order-log');
        log.innerHTML += `<div>[${new Date().toLocaleTimeString()}] ${currentPay} $${document.getElementById('final-total').innerText}</div>`;
        cart = []; renderCart();
        alert("çµå¸³æˆåŠŸï¼å·²æ‰£é™¤åº«å­˜ã€‚");
    }

    init();
</script>
</body>
</html>
